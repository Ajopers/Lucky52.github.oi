!DOCTYPE html
html lang=ru

head
    meta charset=UTF-8
    meta name=viewport content=width=device-width, initial-scale=1.0
    titleLucky 52title
    link rel=preconnect href=httpsfonts.googleapis.com
    link rel=preconnect href=httpsfonts.gstatic.com crossorigin
    link href=httpsfonts.googleapis.comcss2family=Poppinswght@400;500;600;700&display=swap rel=stylesheet
    link rel=stylesheet href=httpscdnjs.cloudflare.comajaxlibsfont-awesome6.0.0cssall.min.css integrity=sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg== crossorigin=anonymous referrerpolicy=no-referrer 
    style
        root {
            --primary-color #4e54c8;
            --secondary-color #8f94fb;
            --accent-color #ff6b6b;
            --bg-color #f5f5f5;
            --text-color #333;
            --light-text-color #777;
        }

        body {
            font-family 'Poppins', sans-serif;
            background-color var(--bg-color);
            display flex;
            justify-content center;
            align-items center;
            min-height 100vh;
            margin 0;
            overflow-x hidden;
        }

        .container {
            background-color white;
            padding 40px;
            border-radius 20px;
            box-shadow 0 10px 25px rgba(0, 0, 0, 0.1);
            width 90%;
            max-width 700px;
            text-align center;
              position relative;   For absolute positioning of the decorations 
            overflow hidden;
        }
        Decorative elements 
        .containerbefore, .containerafter {
            content '';
            position absolute;
            width 150px;
            height 150px;
            border-radius 50%;
            z-index -1;
        }
        .containerbefore{
            background-color rgba(78, 84, 200, 0.15);  Lighter primary 
            top -50px;
            left -50px;

        }

        .containerafter {
            background-color rgba(255, 107, 107, 0.15);
            bottom -50px;
            right -50px;
        }

        h1 {
            color var(--primary-color);
            margin-bottom 30px;
            font-weight 700;
            font-size 2.5em;

        }

        h2{
             color var(--text-color);
              margin-bottom 15px;
        }

         Auth Section 
        .auth-section {
            display flex;
            flex-wrap wrap;
            justify-content center;
            gap 15px;
            margin-bottom 40px;
             padding 20px;
            border-radius 15px;
        }
  .auth-section   {
        margin 5px 0;  Vertical margin for all children 
    }

        .auth-section input {
            padding 12px 15px;
            border 1px solid #ddd;
            border-radius 8px;
            font-size 16px;
             width 45%;
           min-width 150px;
            transition border-color 0.3s;
             box-sizing border-box;
        }

           .auth-section inputfocus {
            border-color var(--primary-color);
            outline none;
        }

        .auth-button {
            background-color var(--primary-color);
            color white;
            padding 12px 20px;
            border none;
            border-radius 8px;
            cursor pointer;
            transition background-color 0.3s;
            font-size 16px;
            width 45%;
            min-width 120px;
              box-sizing border-box;

        }

        .auth-buttonhover {
            background-color var(--secondary-color);
        }
        .auth-error {
          color var(--accent-color);
          margin-top 10px;
          width 100%;  Full width 
        }
         Game Section 
        .game-section {
            margin-bottom 30px;
        }

        .difficulty-select {
            margin-bottom 20px;
        }

        .difficulty-select label {
            font-weight 500;
            margin-right 10px;
            color var(--light-text-color);
        }

        .difficulty-select select {
            padding 10px 15px;
            border-radius 8px;
            border 1px solid #ddd;
            font-size 16px;
            cursor pointer;
            transition border-color 0.3s;
            -webkit-appearance none;   Remove default styling 
            -moz-appearance none;
            appearance none;
            background-image url(dataimagesvg+xml,%3Csvg xmlns='httpwww.w3.org2000svg' viewBox='0 0 24 24' fill='%23888' width='18px' height='18px'%3E%3Cpath d='M7 10l5 5 5-5z'%3E%3Csvg%3E);  Custom dropdown arrow 
            background-repeat no-repeat;
            background-position right 10px center;
             padding-right 35px;
              width 100%;  Make the select fill the container 
              box-sizing border-box;
        }

        .difficulty-select selectfocus {
          border-color var(--primary-color);  Highlight on focus
           outline none;
        }


        .result-display {
            font-size 4em;
            font-weight 600;
            margin 25px 0;
            color #3498db;
            min-height 70px;
            display flex;
            align-items center;
            justify-content center;

        }

        .spin-button {
            background-color var(--primary-color);   Use the primary color 
            color white;
            padding 15px 30px;
            border none;
            border-radius 25px;
            font-size 1.2em;
            cursor pointer;
            transition transform 0.2s, box-shadow 0.2s, background-color 0.3s;
            box-shadow 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .spin-buttonhover {
             transform translateY(-3px);
            box-shadow 0 6px 12px rgba(0, 0, 0, 0.3);
             background-color var(--secondary-color);
        }

        .spin-buttonactive {
            transform translateY(0);
            box-shadow 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .timer {
            font-size 1.2em;
            margin-top 15px;
            color var(--light-text-color);
        }

         Leaderboard 
           .leaderboard {
            margin-top 40px;  Increased spacing 
            border-collapse collapse;
            width 100%;
            box-shadow 0 2px 5px rgba(0,0,0,0.1);  Subtle shadow 
            border-radius 10px;
            overflow hidden;  Ensures border-radius applies to all corners 
        }

        .leaderboard th, .leaderboard td {
            border none;  Remove individual cell borders 
              padding 15px;
            text-align left;
            transition background-color 0.3s;  Smooth hover effect 
        }
          .leaderboard tbody trnth-child(even) {
            background-color #f9f9f9;  Lighter shade for even rows 
        }
        .leaderboard th {
            background-color var(--primary-color);  Use the primary color 
            color white;
            font-weight 600;
              text-transform uppercase;   Uppercase th 
        }

           .leaderboard trhover {
            background-color #f0f0f0;  Very light grey on hover 
        }

        .hidden {
            display none;
        }

        .win-message {
            color #27ae60;
            font-size 1.5em;
            font-weight 600;
            margin-top 20px;
             animation pulse 1.5s infinite alternate;

        }
         Keyframes for pulsing animation 
        @keyframes pulse {
            from {
              transform scale(1);
              opacity 0.8;

            }
            to {
              transform scale(1.05);
              opacity 1;
            }
        }


    style
head

body
    div class=container
        h1Lucky 52h1

        div class=auth-section
            input type=text id=username placeholder=Username
            input type=password id=password placeholder=Password
            button class=auth-button onclick=register()Sign Upbutton
            button class=auth-button onclick=login()Sign Inbutton
             div id=auth-error class=auth-error hiddendiv
        div

        div class=game-section
            div class=difficulty-select
                label for=difficultySelect Difficultylabel
                select id=difficulty
                    option value=easyEasy (1-60)option
                    option value=mediumMedium (1-100)option
                    option value=hardHard (1-200)option
                    option value=super-hardSuper Hard (1-1000)option
                select
            div
            div class=result-display id=result0div
            button class=spin-button onclick=spin()Spin the Wheel!button
            div class=timer id=timerTime 0000.00div
            div id=win-message class=win-message hiddendiv
        div

        h2Leaderboardh2
        table class=leaderboard id=leaderboard
            thead
                tr
                    thi class=fas fa-useri Playerth
                    thi class=fas fa-trophyi Difficultyth
                    thi class=fas fa-clocki Timeth
                tr
            thead
            tbody
                !-- Leaderboard entries will be added here --
            tbody
        table

    div

    script
        let currentNumber = 0;
        let timerInterval;
        let startTime;
        let loggedInUser = null;   Store the logged-in user
        let leaderboardData = [];


        function register() {
          const username = document.getElementById('username').value;
          const password = document.getElementById('password').value;
              const authError = document.getElementById('auth-error');

          if (!username  !password) {
             authError.textContent = Please fill in all fields.;
             authError.classList.remove('hidden');
                return;
          }

          if (localStorage.getItem(username)) {
              authError.textContent = Username already exists.;
              authError.classList.remove('hidden');
              return;
          }

          localStorage.setItem(username, password);
          authError.classList.add('hidden');  Hide error on success
          alert(Registration successful! Please log in.);
        }


        function login() {
          const username = document.getElementById('username').value;
          const password = document.getElementById('password').value;
          const storedPassword = localStorage.getItem(username);
            const authError = document.getElementById('auth-error');


          if (storedPassword === password && storedPassword != null) {
            loggedInUser = username;
            document.getElementById('auth-error').classList.add('hidden');
            alert(`Welcome, ${username}!`);
             loadLeaderboard();

          } else {
            authError.textContent = Incorrect username or password.;
            authError.classList.remove('hidden');
          }
        }


        function spin() {
            if (!loggedInUser) {
                alert(Please log in or register to play.);
                return;
            }

             const winMessage = document.getElementById('win-message');
             winMessage.classList.add('hidden');

            if (timerInterval) {
                clearInterval(timerInterval);  Stop previous timer
            }

            const difficulty = document.getElementById('difficulty').value;
            let maxNumber;

            switch (difficulty) {
                case 'easy'
                    maxNumber = 60;
                    break;
                case 'medium'
                    maxNumber = 100;
                    break;
                case 'hard'
                    maxNumber = 200;
                    break;
                case 'super-hard'
                    maxNumber = 1000;
                    break;
                default
                    maxNumber = 60;  Default to easy
            }

            currentNumber = Math.floor(Math.random()  maxNumber) + 1;
            document.getElementById('result').textContent = currentNumber;

            startTime = Date.now();
            timerInterval = setInterval(updateTimer, 10);   Update every 10ms for better visual

            if (currentNumber === 52) {
                clearInterval(timerInterval);
                const elapsedTime = Date.now() - startTime;
                winMessage.textContent = `You won in ${formatTime(elapsedTime)}!`;
                winMessage.classList.remove('hidden');
                addLeaderboardEntry(loggedInUser, difficulty, elapsedTime);
            }
        }


      function updateTimer() {
        const elapsedTime = Date.now() - startTime;
        document.getElementById('timer').textContent = Time  + formatTime(elapsedTime);
      }


       function formatTime(milliseconds) {
            const totalSeconds = Math.floor(milliseconds  1000);
            const minutes = Math.floor(totalSeconds  60);
            const seconds = totalSeconds % 60;
            const formattedSeconds = seconds  10  `0${seconds}`  seconds;
            const formattedMinutes = minutes  10  `0${minutes}`  minutes;
            const ms = Math.floor((milliseconds % 1000)  10);  Display hundredths of a second.
            const formattedMs = ms  10  `0${ms}`  ms;


            return `${formattedMinutes}${formattedSeconds}.${formattedMs}`;
        }

function addLeaderboardEntry(user, difficulty, time) {
    leaderboardData.push({ user, difficulty, time });
    leaderboardData.sort((a, b) = a.time - b.time);  Sort by time (ascending)

     Limit the leaderboard to, say, the top 10 entries
    if (leaderboardData.length  10) {
      leaderboardData.pop();  Remove the last entry to keep it at 10
    }
    saveLeaderboard();
    updateLeaderboardTable();
}


function updateLeaderboardTable() {
    const tableBody = document.getElementById('leaderboard').querySelector('tbody');
    tableBody.innerHTML = '';  Clear existing entries

    leaderboardData.forEach(entry = {
        const row = document.createElement('tr');
        const userCell = document.createElement('td');
        const diffCell = document.createElement('td');
        const timeCell = document.createElement('td');

        userCell.textContent = entry.user;
        diffCell.textContent = entry.difficulty;
        timeCell.textContent = formatTime(entry.time);

        row.appendChild(userCell);
        row.appendChild(diffCell);
        row.appendChild(timeCell);
        tableBody.appendChild(row);
    });
}

function saveLeaderboard() {
     localStorage.setItem('leaderboard', JSON.stringify(leaderboardData));

}

function loadLeaderboard(){
      const storedLeaderboard = localStorage.getItem('leaderboard');
    if (storedLeaderboard) {
        leaderboardData = JSON.parse(storedLeaderboard);
    }
      updateLeaderboardTable();
}

 Initial load of the leaderboard
loadLeaderboard();


    script
body

html
